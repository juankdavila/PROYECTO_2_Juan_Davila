USE [PROYECTO_2]
GO
/****** Object:  StoredProcedure [dbo].[SP_INS_PROMOCIONES]    Script Date: 14/7/2024 22:36:44 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[SP_INS_PROMOCIONES]
	@PV_DESCRIPCION VARCHAR (100),
	@PF_FECHA_INICIO DATETIME,
	@PF_FECHA_FIN DATETIME
	

AS
	DECLARE @CONTADOR_ID INTEGER;
BEGIN
	SELECT @CONTADOR_ID=ISNULL(MAX(ID_PROMOCION),0)+1
	FROM PROMOCIONES;

	INSERT INTO PROMOCIONES(ID_PROMOCION,DESCRIPCION,FECHA_INICIO,FECHA_FIN,ESTADO)
	VALUES(@CONTADOR_ID,@PV_DESCRIPCION,@PF_FECHA_INICIO,@PF_FECHA_FIN,'A');

END